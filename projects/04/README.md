## PHP WebServers.

### Материалы:
- [nginx-example.conf](https://gist.github.com/atlance/fe497b3789501923fff1a42530f23b45)
- [Nginx cache: всё новое — хорошо забытое старое](https://habr.com/ru/post/428127/)
- [Nginx vs Apache: Which Web Server Is the Best? (2020 Edition)](https://kinsta.com/blog/nginx-vs-apache/)
- [Difference between PHP-CGI and PHP-FPM | BaseZap](https://www.basezap.com/difference-php-cgi-php-fpm/)
- [Setting up nginx and PHP-FPM in Docker with Unix Sockets](https://medium.com/@shrikeh/setting-up-nginx-and-php-fpm-in-docker-with-unix-sockets-6fdfbdc19f91)

### Описание/Пошаговая инструкция выполнения задания:

1. Верификация строки со скобками.  
   Используя `Docker`, вы описали сборку двух контейнеров – один с `nginx`, второй – с `php-fpm` и вашим кодом.  
   Используя `docker-compose` вы запускаете оба контейнера.  
   Контейнер с `nginx` пробрасывает `80` порт на вашу хостовую машину и ожидает соединений.  
   Клиент соединяется, и шлёт следующий `HTTP`-запрос:  
   `POST/HTTP/1.1`  
   `string=(()()()()))((((()()()))(()()()(((()))))))`  
   `String` - это `POST`-параметр, который можно проверять:
    1. На непустоту.
    2. На корректность кол-ва открытых и закрытых скобок.  
       Все запросы с динамическим содержимым (*.php) `nginx`, используя директиву `fastcgi_pass`, проксирует в контейнер с `php-fpm` и вашим кодом.

   `Nginx` должен обрабатывать запросы не обращая внимания на директиву `Host`.  
   После обработки,
    - если строка корректна, то пользователю возвращается ответ `200 OK`, с информационным текстом, что всё хорошо;
    - если строка некорректна, то пользователю возвращается ответ `400 Bad Request`, с информационным текстом, что всё плохо.

2. Создать балансируемый кластер.
- Балансировщик `nginx-upstream`.
- Балансируемые бэкенды на `nginx` (у каждого свой `php-fpm`, в идеале - можно запрашивать любой доступный `php-fpm`).
- Подключите к обоим контейнерам `php-fpm` контейнер с `memcache`.
- Если у Вас есть балансировка, стандартными сессиями уже не обойтись. Иначе не будет работать аутентификация. Переведите хранение сессий в него.
- Усложнённая задача для тех, кто хочет проверить свои силы:
    -  Объедините оба `memcache` в кластер. Можно использовать `repcached`.

### Результат:
#### Инициализация и проверка:
- `make init`
- `make tests`